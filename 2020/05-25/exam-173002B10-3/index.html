<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo-loki.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"summer10920.github.io","root":"/","scheme":"Muse","version":"7.7.2","exturl":false,"sidebar":{"position":"left","width":370,"display":"post","padding":20,"offset":20,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>


  <meta name="description" content="本篇為網乙解析系列之題組三，難度算是最高的，題目動作與資料庫少，但大量依賴前端 JSJQ 進行視覺與動態資料操作占用時間，步驟不熟悉一旦卡住某小節設計，整題後續都將無法完成，若題目沒有特別要求的視覺操作盡可能不要花時間求媲美於示意圖。本篇之前置作業 (lib.php 與 MySQL 規劃）不再進行說明。">
<meta property="og:type" content="article">
<meta property="og:title" content="[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組三）">
<meta property="og:url" content="http://summer10920.github.io/2020/05-25/exam-173002B10-3/">
<meta property="og:site_name" content="洛奇的邪惡組織手札">
<meta property="og:description" content="本篇為網乙解析系列之題組三，難度算是最高的，題目動作與資料庫少，但大量依賴前端 JSJQ 進行視覺與動態資料操作占用時間，步驟不熟悉一旦卡住某小節設計，整題後續都將無法完成，若題目沒有特別要求的視覺操作盡可能不要花時間求媲美於示意圖。本篇之前置作業 (lib.php 與 MySQL 規劃）不再進行說明。">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://i.imgur.com/UtULDXX.png">
<meta property="og:image" content="https://i.imgur.com/pGUiR9N.png">
<meta property="og:image" content="https://i.imgur.com/0mUn8jx.png">
<meta property="og:image" content="https://i.imgur.com/QaJQf7A.png">
<meta property="og:image" content="https://i.imgur.com/zPvjJOA.png">
<meta property="og:image" content="https://i.imgur.com/kJp2QZC.png">
<meta property="og:image" content="https://i.imgur.com/dUZ9hVx.png">
<meta property="og:image" content="https://i.imgur.com/QbAWeYX.png">
<meta property="og:image" content="https://i.imgur.com/Ji8jU7J.png">
<meta property="article:published_time" content="2020-05-25T04:36:25.000Z">
<meta property="article:modified_time" content="2020-05-25T14:32:24.000Z">
<meta property="article:author" content="Loki Jiang">
<meta property="article:tag" content="技術士考照與全國技能競賽">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.imgur.com/UtULDXX.png">

<link rel="canonical" href="http://summer10920.github.io/2020/05-25/exam-173002B10-3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組三） | 洛奇的邪惡組織手札</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146423952-3"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-146423952-3');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">洛奇的邪惡組織手札</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">I am WebDeveloper!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>標籤<span class="badge">8</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分類<span class="badge">10</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>所有文章<span class="badge">40</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋內文
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/summer10920" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://summer10920.github.io/2020/05-25/exam-173002B10-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/loki_img.jpg">
      <meta itemprop="name" content="Loki Jiang">
      <meta itemprop="description" content="Time waits for no oneヽ(｀Д´)ﾉ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="洛奇的邪惡組織手札">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [題目解析] 技能檢定！網頁設計乙級術科考題分析（題組三）
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2020-05-25 12:36:25 / 修改時間：22:32:24" itemprop="dateCreated datePublished" datetime="2020-05-25T12:36:25+08:00">2020-05-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AB%B6%E8%B3%BD%E6%AA%A2%E5%AE%9A/" itemprop="url" rel="index"><span itemprop="name">競賽檢定</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AB%B6%E8%B3%BD%E6%AA%A2%E5%AE%9A/%E7%B6%B2%E9%A0%81%E8%A8%AD%E8%A8%88%E4%B9%99%E7%B4%9A/" itemprop="url" rel="index"><span itemprop="name">網頁設計乙級</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>本篇為網乙解析系列之題組三，難度算是最高的，題目動作與資料庫少，但大量依賴前端 JSJQ 進行視覺與動態資料操作占用時間，步驟不熟悉一旦卡住某小節設計，整題後續都將無法完成，若題目沒有特別要求的視覺操作盡可能不要花時間求媲美於示意圖。本篇之前置作業 (lib.php 與 MySQL 規劃）不再進行說明。</p>
<a id="more"></a>

<blockquote>
<p>網乙術科題庫分析 - ABC 影城</p>
</blockquote>
<p>事前建置說明：<a href="/2020/05-14/exam-173002B10-0/" title="[題目解析] 技能檢定！網頁設計乙級術科考題分析（事前準備）">[題目解析] 技能檢定！網頁設計乙級術科考題分析（事前準備）</a></p>
<hr>
<h1 id="No-3-主選單-15"><a href="#No-3-主選單-15" class="headerlink" title="No.3 主選單 (15%)"></a>No.3 主選單 (15%)</h1><p>調整 index.php 選單的有效連接，以及規劃好帳號登入功能。</p>
<p><img src="https://i.imgur.com/UtULDXX.png" alt="q3t3"></p>
<h2 id="主選單的有效連結"><a href="#主選單的有效連結" class="headerlink" title="主選單的有效連結"></a>主選單的有效連結</h2><p>先修正正確的檔案名稱之超連結，在三個素材版型內找到</p>
<h3 id="修改-index-php-amp-order-php-amp-admin-php"><a href="#修改-index-php-amp-order-php-amp-admin-php" class="headerlink" title="修改 index.php &amp; order.php &amp; admin.php"></a>修改 index.php &amp; order.php &amp; admin.php</h3><figure class="highlight html"><figcaption><span>index.php & order.php & admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"top2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"03P01.htm"</span>&gt;</span>首頁<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"03P02.htm"</span>&gt;</span>線上訂票<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>會員系統<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"03P03.htm"</span>&gt;</span>管理系統<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>修改為</p>
<figure class="highlight html"><figcaption><span>index.php & order.php & admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"top2"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"index.php"</span>&gt;</span>首頁<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"order.php"</span>&gt;</span>線上訂票<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>會員系統<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"admin.php"</span>&gt;</span>管理系統<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>另外先插入各頁首連接 <code>lib.php</code> ，方便之後任何 PHP 與 SQL 處理。</p>
<figure class="highlight php"><figcaption><span>index.php & order.php & admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">"lib.php"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="前台首頁的內容切換"><a href="#前台首頁的內容切換" class="headerlink" title="前台首頁的內容切換"></a>前台首頁的內容切換</h2><p>這裡會有三組切換，包含預設畫面、內容細節、登入畫面。所以設計一個內容切換。把 div.mm 的內容都抽取出來</p>
<h3 id="修改-index-php"><a href="#修改-index-php" class="headerlink" title="修改 index.php"></a>修改 index.php</h3><figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"half"</span> <span class="attr">style</span>=<span class="string">"vertical-align:top;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>預告片介紹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rb tab"</span> <span class="attr">style</span>=<span class="string">"width:95%;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"abgne-block-20111227"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"lists"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"half"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>院線片清單<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rb tab"</span> <span class="attr">style</span>=<span class="string">"width:95%;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span> <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>取代為下列代碼，上列代碼<strong>另存為 main.php</strong></p>
<figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> $main.<span class="string">".php"</span><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>以及開頭記得做判斷</p>
<figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line">$main = (<span class="keyword">empty</span>($_GET[<span class="string">'do'</span>])) ? <span class="string">"main"</span> : $_GET[<span class="string">'do'</span>];</span><br></pre></td></tr></table></figure>

<h2 id="後台選單的超連結簡化"><a href="#後台選單的超連結簡化" class="headerlink" title="後台選單的超連結簡化"></a>後台選單的超連結簡化</h2><p>在後台設計上大部分都是 do=admin&amp;redo=XX。順手將 redo 拿掉只留一個變數就好。</p>
<h3 id="修改-admin-php"><a href="#修改-admin-php" class="headerlink" title="修改 admin.php"></a>修改 admin.php</h3><figure class="highlight html"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ct a rb"</span> <span class="attr">style</span>=<span class="string">"position:relative; width:101.5%; left:-1%; padding:3px; top:-9px;"</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=admin&amp;redo=tit"</span>&gt;</span>網站標題管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=admin&amp;redo=go"</span>&gt;</span>動態文字管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=admin&amp;redo=rr"</span>&gt;</span>預告片海報管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=admin&amp;redo=vv"</span>&gt;</span>院線片管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=admin&amp;redo=order"</span>&gt;</span>電影訂票管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>更改為</p>
<figure class="highlight html"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ct a rb"</span> <span class="attr">style</span>=<span class="string">"position:relative; width:101.5%; left:-1%; padding:3px; top:-9px;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=tit"</span>&gt;</span>網站標題管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=go"</span>&gt;</span>動態文字管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=rr"</span>&gt;</span>預告片海報管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=vv"</span>&gt;</span>院線片管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=orderlist"</span>&gt;</span>電影訂票管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="後台選單的內容切換"><a href="#後台選單的內容切換" class="headerlink" title="後台選單的內容切換"></a>後台選單的內容切換</h2><p>抽取後台選單對應的主內容，拿來做對應的分割區域。並<strong>另存為 admain.php</strong>，連結回 admin 首頁</p>
<h3 id="修改-admin-php-1"><a href="#修改-admin-php-1" class="headerlink" title="修改 admin.php"></a>修改 admin.php</h3><p>將下面代抽出來另存為<code>admain.php</code></p>
<figure class="highlight"><figcaption><span>admain.php</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;h2 class="ct"&gt;請選擇所需功能&lt;/h2&gt;</span><br></pre></td></tr></table></figure>

<p>改為</p>
<figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span> $admain . <span class="string">".php"</span> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>後台管理也有自己的選單內容，所以我們要做個選單內容服務。寫入到最上面的 php</p>
<figure class="highlight php"><figcaption><span>index.php</span></figcaption><table><tr><td class="code"><pre><span class="line">$admain=(<span class="keyword">empty</span>($_GET[<span class="string">'do'</span>]))?<span class="string">"admain"</span>:$_GET[<span class="string">'do'</span>];</span><br></pre></td></tr></table></figure>

<h2 id="判斷是否登入"><a href="#判斷是否登入" class="headerlink" title="判斷是否登入"></a>判斷是否登入</h2><p>如果沒有偵測到 SESSION[‘admin’] 存在，就踢到前台的登入畫面。</p>
<h3 id="增添-admin-php"><a href="#增添-admin-php" class="headerlink" title="增添 admin.php"></a>增添 admin.php</h3><p>在頁首處增加以下代碼</p>
<figure class="highlight php"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>($_SESSION[<span class="string">'admin'</span>])) plo(<span class="string">"index.php?do=login"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="建立-login-php"><a href="#建立-login-php" class="headerlink" title="建立 login.php"></a>建立 login.php</h3><p>設計 login 表單並提交到 api.php，同時順便設計之後有登入過就直接轉回 admin.php 不用到登入面</p>
<figure class="highlight php"><figcaption><span>login.php</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;form action=<span class="string">"api.php?do=login"</span> method=<span class="string">"post"</span>&gt;</span><br><span class="line">  帳號：&lt;input type=<span class="string">"text"</span> name=<span class="string">"acc"</span> id=<span class="string">""</span>&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">  密碼：&lt;input type=<span class="string">"text"</span> name=<span class="string">"pwd"</span> id=<span class="string">""</span>&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">  &lt;input type=<span class="string">"submit"</span> value=<span class="string">"送出"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<h3 id="建立-api-php"><a href="#建立-api-php" class="headerlink" title="建立 api.php"></a>建立 api.php</h3><p>規劃 switch，並開始做 login 的提交處理</p>
<figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">"lib.php"</span>;</span><br><span class="line"><span class="keyword">switch</span> ($_GET[<span class="string">'do'</span>]) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'login'</span>:</span><br><span class="line">    <span class="keyword">if</span> ($_POST[<span class="string">'acc'</span>] == <span class="string">"admin"</span> &amp;&amp; $_POST[<span class="string">'pwd'</span>] == <span class="string">"1234"</span>) &#123;</span><br><span class="line">      $_SESSION[<span class="string">'admin'</span>] = <span class="keyword">true</span>;</span><br><span class="line">      plo(<span class="string">"admin.php"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">echo</span> <span class="string">"&lt;script&gt;alert('輸入錯誤');window.history.back()&lt;/script&gt;"</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>題目沒要求，這裡不一定需要設計登出功能，因為前後台都能同存操作。</p>
<hr>
<h1 id="No-5-後台之預告片海報管理-25"><a href="#No-5-後台之預告片海報管理-25" class="headerlink" title="No.5 後台之預告片海報管理 (25%)"></a>No.5 後台之預告片海報管理 (25%)</h1><p>跟第四題同一組，這裡先做第五題的後台新增修改刪除，最後才再回設計第四題之前台設計。</p>
<ul>
<li>這題先做出大概版型 -&gt; 做好新增 -&gt; 修改刪除 -&gt; 前台顯示</li>
<li>所有的 form 都提交到 api 處理</li>
</ul>
<p><img src="https://i.imgur.com/pGUiR9N.png" alt="q3t5"></p>
<h2 id="規劃版型"><a href="#規劃版型" class="headerlink" title="規劃版型"></a>規劃版型</h2><p>我們先設計列表，同時先預訂進行以下設計：</p>
<ul>
<li>所有的異動處理，直接大表單一併提交到 <code>api.php?do=rrmdy</code> 進行資料處理</li>
<li>資料顯示部分使用 input:checkbox[name=dpy[ID]]，value 為 0 與 1（先全部為 0，需要的靠覆蓋特性為 1)</li>
<li>資料刪除部分使用 input:checkbox[name=del[]]，value 為 ID</li>
<li>沒有內容修改要求，唯一修改的是資料排序，為了減省時間使用數字做處理， <code>input[name=odr[ID]]</code>，value 為排序值</li>
</ul>
<h3 id="建立-rr-php"><a href="#建立-rr-php" class="headerlink" title="建立 rr.php"></a>建立 rr.php</h3><figure class="highlight html"><figcaption><span>rr.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span>預告片清單<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"api.php?do=rrmdy"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"100%"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>預告片海報<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>預告片片名<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>播放順序<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">    $re = select(<span class="string">"q3t5_img"</span>, <span class="string">"1 order by odr"</span>);</span></span><br><span class="line"><span class="php">    <span class="keyword">foreach</span> ($re <span class="keyword">as</span> $ro) &#123;</span></span><br><span class="line"><span class="php">    <span class="meta">?&gt;</span></span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">100</span> <span class="attr">src</span>=<span class="string">"img/&lt;?= $ro['img'] ?&gt;"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'text'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"odr[&lt;?= $ro['id'] ?&gt;]"</span> <span class="attr">value</span>=<span class="string">"&lt;?= $ro['odr'] ?&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"dpy[&lt;?= $ro['id'] ?&gt;]"</span> <span class="attr">value</span>=<span class="string">0</span>&gt;</span></span><br><span class="line">          &lt;input type="checkbox" name="dpy[&lt;?= $ro['id'] ?&gt;]" value="1" &lt;?= ($ro['dpy']) ? "checked" : "" ?&gt;&gt;顯示</span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"del[]"</span> <span class="attr">value</span>=<span class="string">"&lt;?= $ro['id'] ?&gt;"</span>&gt;</span>刪除</span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"編輯"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="規劃新增功能"><a href="#規劃新增功能" class="headerlink" title="規劃新增功能"></a>規劃新增功能</h2><ul>
<li>參考示意圖，在版面最底下另外獨立表單且彼此用 hr 分開，我們先做新增方便之後的修改刪除測試。</li>
<li>注意 form 需要宣告 enctpye。並提交到 <code>api.php?do=rradd</code> 處理</li>
<li>新增時沒有指定 odr 值，預設將會是 0。而 dpy 值亦同。</li>
</ul>
<h3 id="增添-rr-php"><a href="#增添-rr-php" class="headerlink" title="增添 rr.php"></a>增添 rr.php</h3><figure class="highlight html"><figcaption><span>rr.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span>新增預告片<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"api.php?do=rradd"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span></span><br><span class="line">  預告片海報<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"img"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span> 預告片片名<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"新增"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增添-api-php"><a href="#增添-api-php" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'rradd'</span>:</span><br><span class="line">    $_POST[<span class="string">'img'</span>] = addfile($_FILES[<span class="string">'img'</span>]);</span><br><span class="line">    insert($_POST, <span class="string">"q3t5_img"</span>);</span><br><span class="line">    plo(<span class="string">"admin.php?do=rr"</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<p>試著增添幾筆，檢查 sql 以及 img 資料夾有無新成功。</p>
<h2 id="做修改刪除"><a href="#做修改刪除" class="headerlink" title="做修改刪除"></a>做修改刪除</h2><p>題目要求很簡單只有新增刪除而已。且修改只要求顯示與排序。為了考試節省時間，用 Input 數字來處理排序就好。在版型設計時已完成，這裡接著處理提交行為：</p>
<h3 id="增添-api-php-1"><a href="#增添-api-php-1" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'rrmdy'</span>:</span><br><span class="line">  update($_POST, <span class="string">"q3t5_img"</span>);</span><br><span class="line">  delete($_POST, <span class="string">"q3t5_img"</span>);</span><br><span class="line">  plo(<span class="string">"admin.php?do=rr"</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="轉場特效選項"><a href="#轉場特效選項" class="headerlink" title="轉場特效選項"></a>轉場特效選項</h2><p>題目還要求要給前端的轉場特效，參考示意圖可跟之前的 form 表單做在一起，在 from 與 table 標籤之間加入一個 select 表單。</p>
<h3 id="增添-rr-php-1"><a href="#增添-rr-php-1" class="headerlink" title="增添 rr.php"></a>增添 rr.php</h3><figure class="highlight html"><figcaption><span>rr.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"api.php?do=rrmdy"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"eft"</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">    $re = select(<span class="string">"q3t5_effect"</span>, <span class="number">1</span>);</span></span><br><span class="line"><span class="php">    $ro = $re[<span class="number">0</span>];</span></span><br><span class="line"><span class="php">    <span class="meta">?&gt;</span></span></span><br><span class="line">    &lt;option value="1" &lt;?= ($ro['once'] == 1) ? "selected" : "" ?&gt;&gt;淡入&lt;/option&gt;</span><br><span class="line">    &lt;option value="2" &lt;?= ($ro['once'] == 2) ? "selected" : "" ?&gt;&gt;縮放&lt;/option&gt;</span><br><span class="line">    &lt;option value="3" &lt;?= ($ro['once'] == 3) ? "selected" : "" ?&gt;&gt;移出&lt;/option&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="修改-api-php"><a href="#修改-api-php" class="headerlink" title="修改 api.php"></a>修改 api.php</h3><p>到剛剛的 api.php 添加調整一下。</p>
<ul>
<li>將 once 這個欄位抽取出來另存為 $post 陣列進行 update 到 q3t5_effect</li>
<li>舊的陣列可清可不清除，不存在的 field 被 update 到 q3t5_img 並不會被受理。</li>
<li>此外這裡的陣列規劃 <code>$post[&#39;field name&#39;][&#39;num id&#39;]=data value</code> 符合函式結構進行處理</li>
</ul>
<figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'rrmdy'</span>:</span><br><span class="line">  $gg[<span class="string">'once'</span>][<span class="number">1</span>] = $_POST[<span class="string">'eft'</span>];</span><br><span class="line">  update($gg, <span class="string">"q3t5_effect"</span>);</span><br><span class="line">  update($_POST, <span class="string">"q3t5_img"</span>);</span><br><span class="line">  delete($_POST, <span class="string">"q3t5_img"</span>);</span><br><span class="line">  plo(<span class="string">"admin.php?do=rr"</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<p>先處理資料庫的 CRUD 四部曲為止，實際的 effect 設計在接下來的前台著手設計。</p>
<hr>
<h1 id="No-4-前台之預告片海報導覽-30"><a href="#No-4-前台之預告片海報導覽-30" class="headerlink" title="No.4 前台之預告片海報導覽 (30%)"></a>No.4 前台之預告片海報導覽 (30%)</h1><p>做好第五題時已經擁有一些資料。便可以開始設計前台。需要一些 css animate 以及第一題的按鈕互動。</p>
<p><img src="https://i.imgur.com/0mUn8jx.png" alt="q3t4"></p>
<h2 id="按鈕列設計"><a href="#按鈕列設計" class="headerlink" title="按鈕列設計"></a>按鈕列設計</h2><p>第五題完成後才處理第四題關於前台的 slider 素材，可以去偷取第一題的 img 箭頭以及 JS 來改寫。箭頭利用 windows 檔案總管右鍵快速旋轉並用小畫家儲存為 left.jpg 跟 right.jpg。將圖片放到 img 內待用。</p>
<p>從 web01 取得的 JavaScript 為</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> nowpage=<span class="number">0</span>,num=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pp</span>(<span class="params">x</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">var</span> s,t;</span><br><span class="line"><span class="keyword">if</span>(x==<span class="number">1</span>&amp;&amp;nowpage<span class="number">-1</span>&gt;=<span class="number">0</span>)</span><br><span class="line">&#123;nowpage--;&#125;</span><br><span class="line"><span class="keyword">if</span>(x==<span class="number">2</span>&amp;&amp;(nowpage+<span class="number">1</span>)*<span class="number">3</span>&lt;=num*<span class="number">1</span>+<span class="number">3</span>)</span><br><span class="line">&#123;nowpage++;&#125;</span><br><span class="line">$(<span class="string">".im"</span>).hide()</span><br><span class="line"><span class="keyword">for</span>(s=<span class="number">0</span>;s&lt;=<span class="number">2</span>;s++)</span><br><span class="line">&#123;</span><br><span class="line">t=s*<span class="number">1</span>+nowpage*<span class="number">1</span>;</span><br><span class="line">$(<span class="string">"#ssaa"</span>+t).show()</span><br><span class="line">&#125;</span><br><span class="line">pp(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>已知的關鍵是</p>
<ol>
<li>.im 會自隱藏，#ssaa 會自顯示</li>
<li>nowpage 是初始狀態，num 是總圖數</li>
<li>pp(1) 跟 pp(2) 分別是方向鍵</li>
<li>if(x==2&amp;&amp;(nowpage+1)<em>3&lt;=num</em>1+3) 算式有誤，要調整。</li>
</ol>
<h3 id="修改-main-php"><a href="#修改-main-php" class="headerlink" title="修改 main.php"></a>修改 main.php</h3><p>多利用 chrome 慢慢調整 style，開始設計版型位於</p>
<figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>設計為（條件有顯示與排序大小）</p>
<figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"controls"</span> <span class="attr">style</span>=<span class="string">"height:100px"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/left.jpg"</span> <span class="attr">style</span>=<span class="string">"padding:40px 0"</span> <span class="attr">onclick</span>=<span class="string">"pp(1)"</span>&gt;</span></span><br><span class="line">  <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">  $re = select(<span class="string">"q3t5_img"</span>, <span class="string">"dpy=1 order by odr"</span>);</span></span><br><span class="line"><span class="php">  $num = count($re);</span></span><br><span class="line"><span class="php">  <span class="keyword">foreach</span> ($re <span class="keyword">as</span> $key =&gt; $ro)</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">'&lt;img class="im" id="ssaa'</span> . $key . <span class="string">'" onclick="ani('</span> . $key . <span class="string">')" style="height:100%" src="img/'</span> . $ro[<span class="string">'img'</span>] . <span class="string">'" alt="'</span> . $ro[<span class="string">'text'</span>] . <span class="string">'"&gt;'</span>;</span></span><br><span class="line"><span class="php">  <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/right.jpg"</span> <span class="attr">style</span>=<span class="string">"padding:40px 0"</span> <span class="attr">onclick</span>=<span class="string">"pp(2)"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>目前為全顯示出來且溢位，需要透過以持有的 JavaScript 素材進行指定四張顯示以及左右按鈕的切換：</p>
<ol>
<li>這裡需要偷塞個文字標題到 alt 內，方便之後 jQuery 時抓取為標題區。</li>
<li>同時預留 img 的 onclick=ani 帶參數，做之後點選時的 JavaScript 動作</li>
<li>讓點選左右鍵可以正常反應</li>
<li>num 總數可透過前面 PHP 算過的$num 來用</li>
</ol>
<p>加入 JavaScript：</p>
<figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">  var nowpage = 0, num = <span class="php"><span class="meta">&lt;?</span>= $num <span class="meta">?&gt;</span></span>;</span></span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">pp</span><span class="params">(x)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> s, t;</span></span><br><span class="line">    if (x == 1 &amp;&amp; nowpage - 1 &gt;= 0) nowpage--;</span><br><span class="line">    if (x == 2 &amp;&amp; (nowpage + 1) &lt;= num - 4) nowpage++;</span><br><span class="line"><span class="javascript">    $(<span class="string">".im"</span>).hide();</span></span><br><span class="line">    for (s = 0; s &lt;= 3; s++) &#123;</span><br><span class="line">      t = s * 1 + nowpage * 1;</span><br><span class="line"><span class="javascript">      $(<span class="string">"#ssaa"</span> + t).show()</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="actionscript">  pp(); <span class="comment">//先跑一遍 hide 與 show，x 值沒有意義</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="海報展示區"><a href="#海報展示區" class="headerlink" title="海報展示區"></a>海報展示區</h2><p>繼續設計海報主題區域。試著任意一張假圖片與標題文字為版型的調整試作。多利用 chrome 慢慢調整 style，開始設計版型。同時多了 flex 容器方便做效果使用。</p>
<h3 id="修改-main-php-1"><a href="#修改-main-php-1" class="headerlink" title="修改 main.php"></a>修改 main.php</h3><figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"lists"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>更改為</p>
<figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"display:flex;justify-content:center;height:300px"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"lists"</span> <span class="attr">style</span>=<span class="string">"transform:scale(1); transition:transform 0.5s;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">simg</span> <span class="attr">src</span>=<span class="string">"img/03A07.jpg"</span> <span class="attr">style</span>=<span class="string">"height:90%;width:auto"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">stxt</span> <span class="attr">class</span>=<span class="string">ct</span>&gt;</span>1234<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="點選播放"><a href="#點選播放" class="headerlink" title="點選播放"></a>點選播放</h2><p>點選過後的 JavaScript 處理動作為：</p>
<ol>
<li>取得新替換的文字與圖片</li>
<li>根據特效設定決定不同的效果轉場，先轉出，替換，再轉入</li>
<li>取得目前替換的 ID 為何，之後讓自動播放可以知道下一張該換誰</li>
</ol>
<h3 id="修改-main-php-2"><a href="#修改-main-php-2" class="headerlink" title="修改 main.php"></a>修改 main.php</h3><figure class="highlight javascript"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ani</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">  img = $(<span class="string">"#ssaa"</span> + id).attr(<span class="string">"src"</span>);</span><br><span class="line">  txt = $(<span class="string">"#ssaa"</span> + id).attr(<span class="string">"alt"</span>);</span><br><span class="line">  &lt;?php <span class="comment">//t5</span></span><br><span class="line">  $re = select(<span class="string">"q3t5_effect"</span>, <span class="number">1</span>);</span><br><span class="line">  $eft = $re[<span class="number">0</span>][<span class="string">'once'</span>];</span><br><span class="line">  <span class="comment">// $eft = 1;</span></span><br><span class="line">  ?&gt;</span><br><span class="line">  <span class="keyword">switch</span> (&lt;?= $eft ?&gt;) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">      $(<span class="string">".lists"</span>).fadeToggle(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        $(<span class="string">"#simg"</span>).attr(<span class="string">"src"</span>, img);</span><br><span class="line">        $(<span class="string">"#stxt"</span>).text(txt);</span><br><span class="line">        $(<span class="string">".lists"</span>).fadeToggle();</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      <span class="comment">// animate 不支援使用 transform: "scale(0)"，改為增添 style 並持有轉場動畫並配合時間回歸</span></span><br><span class="line">      $(<span class="string">".lists"</span>).css(<span class="string">'transform'</span>, <span class="string">'scale(0)'</span>);</span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        $(<span class="string">"#simg"</span>).attr(<span class="string">"src"</span>, img);</span><br><span class="line">        $(<span class="string">"#stxt"</span>).text(txt);</span><br><span class="line">        $(<span class="string">".lists"</span>).css(<span class="string">'transform'</span>, <span class="string">'scale(1)'</span>);</span><br><span class="line">      &#125;, <span class="number">500</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">      $(<span class="string">".lists"</span>).animate(&#123;</span><br><span class="line">        left: <span class="string">"-400px"</span></span><br><span class="line">      &#125;, () =&gt; &#123;</span><br><span class="line">        $(<span class="string">".lists"</span>).css(<span class="string">"left"</span>, <span class="string">"400px"</span>);</span><br><span class="line">        $(<span class="string">"#simg"</span>).attr(<span class="string">"src"</span>, img);</span><br><span class="line">        $(<span class="string">"#stxt"</span>).text(txt);</span><br><span class="line">        $(<span class="string">".lists"</span>).animate(&#123;</span><br><span class="line">          left: <span class="string">"0"</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  run = id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="自動播放"><a href="#自動播放" class="headerlink" title="自動播放"></a>自動播放</h2><p>當點選效果都能正常動畫時，設計一個自動會去執行 ani（參數），最後一張的 ID 最大是多少記得回到第一張輪播</p>
<h3 id="修改-main-php-3"><a href="#修改-main-php-3" class="headerlink" title="修改 main.php"></a>修改 main.php</h3><figure class="highlight javascript"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">auto</span>(<span class="params"></span>) </span>&#123; <span class="comment">//run=0~5,num=6</span></span><br><span class="line">  run = (run == (num - <span class="number">1</span>)) ? <span class="number">0</span> : run + <span class="number">1</span>;</span><br><span class="line">  ani(run);</span><br><span class="line">&#125;</span><br><span class="line">setInterval(auto, <span class="number">3000</span>);</span><br><span class="line">ani(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>ani(0) 是讓畫面載入時先跑第一張</p>
<p>以下為 <code>main.php</code> 完整代碼</p>
<figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"half"</span> <span class="attr">style</span>=<span class="string">"vertical-align:top;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>預告片介紹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rb tab"</span> <span class="attr">style</span>=<span class="string">"width:95%;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"abgne-block-20111227"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"display:flex;justify-content:center;height:300px"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"lists"</span> <span class="attr">style</span>=<span class="string">"transform:scale(1); transition:transform 0.5s;"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">simg</span> <span class="attr">src</span>=<span class="string">"img/03A07.jpg"</span> <span class="attr">style</span>=<span class="string">"height:90%;width:auto"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">stxt</span> <span class="attr">class</span>=<span class="string">ct</span>&gt;</span>1234<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"controls"</span> <span class="attr">style</span>=<span class="string">"height:100px"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/left.jpg"</span> <span class="attr">style</span>=<span class="string">"padding:40px 0"</span> <span class="attr">onclick</span>=<span class="string">"pp(1)"</span>&gt;</span></span><br><span class="line">        <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">        $re = select(<span class="string">"q3t5_img"</span>, <span class="string">"dpy=1 order by odr"</span>);</span></span><br><span class="line"><span class="php">        $num = count($re);</span></span><br><span class="line"><span class="php">        <span class="keyword">foreach</span> ($re <span class="keyword">as</span> $key =&gt; $ro)</span></span><br><span class="line"><span class="php">          <span class="keyword">echo</span> <span class="string">'&lt;img class="im" id="ssaa'</span> . $key . <span class="string">'" onclick="ani('</span> . $key . <span class="string">')" style="height:100%" src="img/'</span> . $ro[<span class="string">'img'</span>] . <span class="string">'" alt="'</span> . $ro[<span class="string">'text'</span>] . <span class="string">'"&gt;'</span>;</span></span><br><span class="line"><span class="php">        <span class="meta">?&gt;</span></span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/right.jpg"</span> <span class="attr">style</span>=<span class="string">"padding:40px 0"</span> <span class="attr">onclick</span>=<span class="string">"pp(2)"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//for control start</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> nowpage = <span class="number">0</span>,</span></span><br><span class="line"><span class="handlebars"><span class="xml">          num = <span class="php"><span class="meta">&lt;?</span>= $num <span class="meta">?&gt;</span></span>;</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">pp</span><span class="params">(x)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">          <span class="keyword">var</span> s, t;</span></span><br><span class="line">          if (x == 1 &amp;&amp; nowpage - 1 &gt;= 0) nowpage--;</span><br><span class="line">          if (x == 2 &amp;&amp; (nowpage + 1) &lt;= num - 4) nowpage++;</span><br><span class="line"><span class="javascript">          $(<span class="string">".im"</span>).hide();</span></span><br><span class="line">          for (s = 0; s &lt;= 3; s++) &#123;</span><br><span class="line">            t = s * 1 + nowpage * 1;</span><br><span class="line"><span class="javascript">            $(<span class="string">"#ssaa"</span> + t).show()</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">        pp(); <span class="comment">//先跑一遍 hide 與 show，x 值沒有意義</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">//onclick to change list content</span></span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">ani</span><span class="params">(id)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">          img = $(<span class="string">"#ssaa"</span> + id).attr(<span class="string">"src"</span>);</span></span><br><span class="line"><span class="javascript">          txt = $(<span class="string">"#ssaa"</span> + id).attr(<span class="string">"alt"</span>);</span></span><br><span class="line"><span class="handlebars"><span class="xml">          <span class="php"><span class="meta">&lt;?php</span> <span class="comment">//t5</span></span></span></span></span><br><span class="line"><span class="actionscript">          $re = select(<span class="string">"q3t5_effect"</span>, <span class="number">1</span>);</span></span><br><span class="line"><span class="actionscript">          $eft = $re[<span class="number">0</span>][<span class="string">'once'</span>];</span></span><br><span class="line"><span class="actionscript">          <span class="comment">// $eft = 1;</span></span></span><br><span class="line">          ?&gt;</span><br><span class="line"><span class="handlebars"><span class="xml">          switch (<span class="php"><span class="meta">&lt;?</span>= $eft <span class="meta">?&gt;</span></span>) &#123;</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">case</span> <span class="number">1</span>:</span></span><br><span class="line"><span class="javascript">              $(<span class="string">".lists"</span>).fadeToggle(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#simg"</span>).attr(<span class="string">"src"</span>, img);</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#stxt"</span>).text(txt);</span></span><br><span class="line"><span class="javascript">                $(<span class="string">".lists"</span>).fadeToggle();</span></span><br><span class="line">              &#125;);</span><br><span class="line"><span class="actionscript">              <span class="keyword">break</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">case</span> <span class="number">2</span>:</span></span><br><span class="line"><span class="actionscript">              <span class="comment">// animate 不支援使用 transform: "scale(0)"，改為增添 style 並持有轉場動畫並配合時間回歸</span></span></span><br><span class="line"><span class="javascript">              $(<span class="string">".lists"</span>).css(<span class="string">'transform'</span>, <span class="string">'scale(0)'</span>);</span></span><br><span class="line"><span class="javascript">              setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#simg"</span>).attr(<span class="string">"src"</span>, img);</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#stxt"</span>).text(txt);</span></span><br><span class="line"><span class="javascript">                $(<span class="string">".lists"</span>).css(<span class="string">'transform'</span>, <span class="string">'scale(1)'</span>);</span></span><br><span class="line">              &#125;, 500);</span><br><span class="line"><span class="actionscript">              <span class="keyword">break</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">case</span> <span class="number">3</span>:</span></span><br><span class="line"><span class="javascript">              $(<span class="string">".lists"</span>).animate(&#123;</span></span><br><span class="line"><span class="actionscript">                left: <span class="string">"-400px"</span></span></span><br><span class="line">              &#125;, () =&gt; &#123;</span><br><span class="line"><span class="javascript">                $(<span class="string">".lists"</span>).css(<span class="string">"left"</span>, <span class="string">"400px"</span>);</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#simg"</span>).attr(<span class="string">"src"</span>, img);</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#stxt"</span>).text(txt);</span></span><br><span class="line"><span class="javascript">                $(<span class="string">".lists"</span>).animate(&#123;</span></span><br><span class="line"><span class="actionscript">                  left: <span class="string">"0"</span></span></span><br><span class="line">                &#125;);</span><br><span class="line">              &#125;);</span><br><span class="line"><span class="actionscript">              <span class="keyword">break</span>;</span></span><br><span class="line">          &#125;</span><br><span class="line">          run = id;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">// auto run change list</span></span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">auto</span><span class="params">()</span> </span>&#123; <span class="comment">//run=0~5,num=6</span></span></span><br><span class="line">          run = (run == (num - 1)) ? 0 : run + 1;</span><br><span class="line">          ani(run);</span><br><span class="line">        &#125;</span><br><span class="line">        setInterval(auto, 3000);</span><br><span class="line">        ani(0);</span><br><span class="line">      <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"half"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>院線片清單<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rb tab"</span> <span class="attr">style</span>=<span class="string">"width:95%;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span> <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="No-7-後台院線片清單管理-25"><a href="#No-7-後台院線片清單管理-25" class="headerlink" title="No.7 後台院線片清單管理 (25%)"></a>No.7 後台院線片清單管理 (25%)</h1><p>版型可從第五題開始複製調整，步驟應先設計版型、新增、修改刪除、單獨修改。因版型來自複製修改，程度夠可以連同版型一口氣弄好修改刪除功能之初階段，之後可新增時再做驗證測試。</p>
<p><img src="https://i.imgur.com/QaJQf7A.png" alt="q2t7"></p>
<h2 id="顯示-修改-排序-刪除的版型"><a href="#顯示-修改-排序-刪除的版型" class="headerlink" title="顯示+修改+排序+刪除的版型"></a>顯示+修改+排序+刪除的版型</h2><p>跟第五題不同的是欄位較多，版型不用太配合，只要該顯示資訊該有功能使用即可。</p>
<ol>
<li>新增電影的連接按鈕放到上面，帶到 do=vvadd 之頁面</li>
<li>單修改的連結按鈕到 api.php?do=vvchg 之處理</li>
<li>單一刪除的連結則是 vvdel，利用 GET 抓 ID</li>
<li>批次修改排序的連結則是 vvmdy</li>
<li>因 update 會拆成一筆筆，所以每一個欄位都需要利用格數當作 id 索引。</li>
<li>排序效果跟第五題一樣，透過數字來控制就好。</li>
<li>影片分級的圖片記得命名為 1.2.3.4（跟資料庫內的命名相同）</li>
</ol>
<h3 id="建立-vv-php（參考-rr-php"><a href="#建立-vv-php（參考-rr-php" class="headerlink" title="建立 vv.php（參考 rr.php)"></a>建立 vv.php（參考 rr.php)</h3><figure class="highlight html"><figcaption><span>vv.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span>電影清單<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"新增電影"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span>?<span class="attr">do</span>=<span class="string">vvadd</span>") ?&gt;</span>"&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"api.php?do=vvmdy"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">100%</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">    $re = select(<span class="string">"q3t7_movie"</span>, <span class="string">"1 order by odr"</span>);</span></span><br><span class="line"><span class="php">    <span class="keyword">foreach</span> ($re <span class="keyword">as</span> $ro) &#123;</span></span><br><span class="line"><span class="php">    <span class="meta">?&gt;</span></span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">3</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">100</span> <span class="attr">src</span>=<span class="string">"img/&lt;?= $ro['img'] ?&gt;"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">3</span> <span class="attr">valign</span>=<span class="string">"center"</span>&gt;</span>分級：<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/&lt;?= $ro['cls'] ?&gt;.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">          片名：<span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'title'</span>] <span class="meta">?&gt;</span></span></span><br><span class="line">          　　　片長：<span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'length'</span>] <span class="meta">?&gt;</span></span></span><br><span class="line">          　　　上映日期：<span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'date'</span>] <span class="meta">?&gt;</span></span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">          排序：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"odr[&lt;?= $ro['id'] ?&gt;]"</span> <span class="attr">value</span>=<span class="string">"&lt;?= $ro['odr'] ?&gt;"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"編輯電影"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span>?<span class="attr">do</span>=<span class="string">vvchg&amp;id</span>=<span class="string">" . $ro['id']) ?&gt;"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"刪除電影"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span><span class="attr">api.php</span>?<span class="attr">do</span>=<span class="string">vvdel&amp;id</span>=<span class="string">" . $ro['id']) ?&gt;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>劇情介紹：<span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'text'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">3</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"編輯排序"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="修改排序與單一刪除處理"><a href="#修改排序與單一刪除處理" class="headerlink" title="修改排序與單一刪除處理"></a>修改排序與單一刪除處理</h2><p>修改排序直接丟函式就好，反而刪除部分要利用 GET 產生一個陣列處理刪除部分</p>
<h3 id="增建-api-php"><a href="#增建-api-php" class="headerlink" title="增建 api.php"></a>增建 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'vvmdy'</span>:</span><br><span class="line">  update($_POST, <span class="string">"q3t7_movie"</span>);</span><br><span class="line">  plo(<span class="string">"admin.php?do=vv"</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'vvdel'</span>:</span><br><span class="line">  $_POST[<span class="string">'del'</span>][] = $_GET[<span class="string">'id'</span>];</span><br><span class="line">  delete($_POST, <span class="string">"q3t7_movie"</span>);</span><br><span class="line">  plo(<span class="string">"admin.php?do=vv"</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="新增單筆電影"><a href="#新增單筆電影" class="headerlink" title="新增單筆電影"></a>新增單筆電影</h2><p>欄位較多，求快可以直接 br 處理而不用 table。日期依題目要求分三欄。之後提交 api 再另行合併。</p>
<h3 id="建立-vvadd-php"><a href="#建立-vvadd-php" class="headerlink" title="建立 vvadd.php"></a>建立 vvadd.php</h3><figure class="highlight html"><figcaption><span>vvadd.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"api.php?do=vvadd"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">  影片資料</span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">  片名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"title"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  分級：</span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"cls"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span>普遍級<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span>保護級<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"3"</span>&gt;</span>輔導級<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"4"</span>&gt;</span>限制級<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  片長：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"length"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  上映日期：</span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"yy"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>西元年<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">for</span> ($i = date(<span class="string">"Y"</span>); $i &lt; date(<span class="string">"Y"</span>) + <span class="number">2</span>; $i++) <span class="keyword">echo</span> <span class="string">'&lt;option value="'</span> . $i . <span class="string">'"&gt;'</span> . $i . <span class="string">'&lt;/option&gt;'</span>; <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"mm"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>月份<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">for</span> ($i = <span class="number">1</span>; $i &lt; <span class="number">13</span>; $i++) <span class="keyword">echo</span> <span class="string">'&lt;option value="'</span> . $i . <span class="string">'"&gt;'</span> . $i . <span class="string">'&lt;/option&gt;'</span>; <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"dd"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>日期<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">for</span> ($i = <span class="number">1</span>; $i &lt; <span class="number">32</span>; $i++) <span class="keyword">echo</span> <span class="string">'&lt;option value="'</span> . $i . <span class="string">'"&gt;'</span> . $i . <span class="string">'&lt;/option&gt;'</span>; <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  發行商：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"corp"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  導演：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"corp"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  預告影片：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"video"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  電影海報：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"img"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  劇情簡介</span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">cols</span>=<span class="string">"30"</span> <span class="attr">rows</span>=<span class="string">"10"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"新增"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增添-api-php-2"><a href="#增添-api-php-2" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><p>日期需要合併成一個 POST 欄位方便且合併完後要清除掉，insert 才能與 SQL 對應作業。檔案都需要拆開，一次只能丟一筆到 addfile() 並取得黨名。所以有的檔案都會被放置到 upload 且已被更名。</p>
<figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'vvadd'</span>:</span><br><span class="line">  $_POST[<span class="string">'img'</span>] = addfile($_FILES[<span class="string">'img'</span>]);</span><br><span class="line">  $_POST[<span class="string">'video'</span>] = addfile($_FILES[<span class="string">'video'</span>]);</span><br><span class="line">  $_POST[<span class="string">'date'</span>] = $_POST[<span class="string">'yy'</span>] . <span class="string">"-"</span> . $_POST[<span class="string">'mm'</span>] . <span class="string">"-"</span> . $_POST[<span class="string">'dd'</span>];</span><br><span class="line">  <span class="keyword">unset</span>($_POST[<span class="string">'yy'</span>], $_POST[<span class="string">'mm'</span>], $_POST[<span class="string">'dd'</span>]);</span><br><span class="line">  insert($_POST, <span class="string">"q3t7_movie"</span>);</span><br><span class="line">  plo(<span class="string">"admin.php?do=vv"</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="修改單筆電影"><a href="#修改單筆電影" class="headerlink" title="修改單筆電影"></a>修改單筆電影</h2><p>兩者欄位與版型相同，建議求快就不需帶預設值。時間投資太大除了每個欄位都要設定舊值 value，select 也要判斷 selected 處，檔案上傳也是要在後端處理判斷是否有上傳，有才進行 file copy &amp; update。建議直接就題目動作 <mark>提供修改功能</mark>進行敷衍（才五分）。</p>
<h3 id="新增-vvchg-php（參考-vvadd-php"><a href="#新增-vvchg-php（參考-vvadd-php" class="headerlink" title="新增 vvchg.php（參考 vvadd.php)"></a>新增 vvchg.php（參考 vvadd.php)</h3><figure class="highlight html"><figcaption><span>vvchg.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span>修改電影資料<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"api.php?do=vvchg&amp;id=&lt;?= $_GET['id'] ?&gt;"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">  影片資料</span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">  片名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"title[&lt;?= $_GET['id'] ?&gt;]"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  分級：</span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"cls[&lt;?= $_GET['id'] ?&gt;]"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span>普遍級<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span>保護級<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"3"</span>&gt;</span>輔導級<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"4"</span>&gt;</span>限制級<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  片長：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"length[&lt;?= $_GET['id'] ?&gt;]"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  上映日期：</span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"yy"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>年<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">for</span> ($i = date(<span class="string">"Y"</span>); $i &lt; date(<span class="string">"Y"</span>) + <span class="number">2</span>; $i++) <span class="keyword">echo</span> <span class="string">'&lt;option value="'</span> . $i . <span class="string">'"&gt;'</span> . $i . <span class="string">'&lt;/option&gt;'</span>; <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"mm"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>年<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">for</span> ($i = <span class="number">1</span>; $i &lt; <span class="number">13</span>; $i++) <span class="keyword">echo</span> <span class="string">'&lt;option value="'</span> . $i . <span class="string">'"&gt;'</span> . $i . <span class="string">'&lt;/option&gt;'</span>; <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"dd"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>年<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">for</span> ($i = <span class="number">1</span>; $i &lt; <span class="number">32</span>; $i++) <span class="keyword">echo</span> <span class="string">'&lt;option value="'</span> . $i . <span class="string">'"&gt;'</span> . $i . <span class="string">'&lt;/option&gt;'</span>; <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  發行商：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"corp[&lt;?= $_GET['id'] ?&gt;]"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  導演：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"corp[&lt;?= $_GET['id'] ?&gt;]"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  預告影片：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"video"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  電影海報：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"img"</span> <span class="attr">id</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  劇情簡介</span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"text[&lt;?= $_GET['id'] ?&gt;]"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">cols</span>=<span class="string">"30"</span> <span class="attr">rows</span>=<span class="string">"10"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"修改"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增添-api-php-3"><a href="#增添-api-php-3" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><p>不考慮是否有抓到檔案，都直接做更新，沒有輸入或檔案就是會變空的內容。</p>
<figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'vvchg'</span>:</span><br><span class="line">  $_POST[<span class="string">'img'</span>][$_GET[<span class="string">'id'</span>]] = addfile($_FILES[<span class="string">'img'</span>]);</span><br><span class="line">  $_POST[<span class="string">'video'</span>][$_GET[<span class="string">'id'</span>]] = addfile($_FILES[<span class="string">'video'</span>]);</span><br><span class="line">  $_POST[<span class="string">'date'</span>][$_GET[<span class="string">'id'</span>]] = $_POST[<span class="string">'yy'</span>] . <span class="string">"-"</span> . $_POST[<span class="string">'mm'</span>] . <span class="string">"-"</span> . $_POST[<span class="string">'dd'</span>];</span><br><span class="line">  <span class="keyword">unset</span>($_POST[<span class="string">'yy'</span>], $_POST[<span class="string">'mm'</span>], $_POST[<span class="string">'dd'</span>]);</span><br><span class="line">  update($_POST, <span class="string">"q3t7_movie"</span>);</span><br><span class="line">  plo(<span class="string">"admin.php?do=vv"</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="No-6-院線片清單-40"><a href="#No-6-院線片清單-40" class="headerlink" title="No.6 院線片清單 (40%)"></a>No.6 院線片清單 (40%)</h1><p>做好第七題，你已經擁有一些資料。便可以開始設計前台。</p>
<p><img src="https://i.imgur.com/zPvjJOA.png" alt="q3t6"></p>
<h2 id="設計院線片顯示區域"><a href="#設計院線片顯示區域" class="headerlink" title="設計院線片顯示區域"></a>設計院線片顯示區域</h2><p>一開始需要設定一個有效時間差異三天（含當天），所以是今天，昨天，前天的上映日期為有效。則就是今天日期減兩天等於前天。設定好此時間差異做之後的判斷</p>
<h3 id="增添-lib-php"><a href="#增添-lib-php" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><figure class="highlight php"><figcaption><span>lib.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">//t6</span></span><br><span class="line">$minday=date(<span class="string">"Y-m-d"</span>,strtotime(<span class="string">"-2days"</span>));</span><br><span class="line">$today=date(<span class="string">"Y-m-d"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="修改-main-php-4"><a href="#修改-main-php-4" class="headerlink" title="修改 main.php"></a>修改 main.php</h3><p>預設給的寫入位置<code>&lt;tr&gt;&lt;/tr&gt;</code>，在內部建立四組 td。透過 td 指定寬度並設定 float:left，能製造出 2X2 的排版效果。先以假資訊模擬出適合的版型。示意圖的設計不符合比例，不用特別雷同只要有題目動作的操作與文字項目即可。</p>
<figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"half"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>院線片清單<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rb tab"</span> <span class="attr">style</span>=<span class="string">"width:95%;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">style</span>=<span class="string">"font-size:0.8rem"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">210</span> <span class="attr">style</span>=<span class="string">"float:left;padding:20px 0"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/03B01.png"</span> <span class="attr">style</span>=<span class="string">"float:left;width:50px;padding:10px"</span>&gt;</span></span><br><span class="line">          AAA<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          分級：<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.png"</span> <span class="attr">style</span>=<span class="string">"height:1em"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          上映日期：2020-05-22<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"clear:both;text-align:center"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"劇情簡介"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span>?<span class="attr">do</span>=<span class="string">info&amp;id</span>=<span class="string">x</span>") ?&gt;</span>"&gt;</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"線上訂票"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span><span class="attr">order.php</span>?<span class="attr">do</span>=<span class="string">step1&amp;id</span>=<span class="string">x</span>") ?&gt;</span>"&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">210</span> <span class="attr">style</span>=<span class="string">"float:left;padding:20px 0"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/03B01.png"</span> <span class="attr">style</span>=<span class="string">"float:left;width:50px;padding:10px"</span>&gt;</span></span><br><span class="line">          AAA<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          分級：<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.png"</span> <span class="attr">style</span>=<span class="string">"height:1em"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          上映日期：2020-05-22<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"clear:both;text-align:center"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"劇情簡介"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span>?<span class="attr">do</span>=<span class="string">info&amp;id</span>=<span class="string">x</span>") ?&gt;</span>"&gt;</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"線上訂票"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span><span class="attr">order.php</span>?<span class="attr">do</span>=<span class="string">step1&amp;id</span>=<span class="string">x</span>") ?&gt;</span>"&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">210</span> <span class="attr">style</span>=<span class="string">"float:left;padding:20px 0"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/03B01.png"</span> <span class="attr">style</span>=<span class="string">"float:left;width:50px;padding:10px"</span>&gt;</span></span><br><span class="line">          AAA<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          分級：<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.png"</span> <span class="attr">style</span>=<span class="string">"height:1em"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          上映日期：2020-05-22<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"clear:both;text-align:center"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"劇情簡介"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span>?<span class="attr">do</span>=<span class="string">info&amp;id</span>=<span class="string">x</span>") ?&gt;</span>"&gt;</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"線上訂票"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span><span class="attr">order.php</span>?<span class="attr">do</span>=<span class="string">step1&amp;id</span>=<span class="string">x</span>") ?&gt;</span>"&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">210</span> <span class="attr">style</span>=<span class="string">"float:left;padding:20px 0"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/03B01.png"</span> <span class="attr">style</span>=<span class="string">"float:left;width:50px;padding:10px"</span>&gt;</span></span><br><span class="line">          AAA<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          分級：<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.png"</span> <span class="attr">style</span>=<span class="string">"height:1em"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          上映日期：2019-04-21<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"clear:both;text-align:center"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"劇情簡介"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span>?<span class="attr">do</span>=<span class="string">info&amp;id</span>=<span class="string">x</span>") ?&gt;</span>"&gt;</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"線上訂票"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span><span class="attr">order.php</span>?<span class="attr">do</span>=<span class="string">step1&amp;id</span>=<span class="string">x</span>") ?&gt;</span>"&gt;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>接著在前置作業進行 select limit 每次四筆。規劃迴圈並指定好超連結。並注意題目要求上映有效為三天含當日。所以需要特別去計算：期限日≦上映日期≦今天。</p>
<figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"half"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>院線片清單<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rb tab"</span> <span class="attr">style</span>=<span class="string">"width:95%;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">style</span>=<span class="string">"font-size:0.8rem"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">        $nw = (<span class="keyword">empty</span>($_GET[<span class="string">'page'</span>])) ? <span class="number">1</span> : $_GET[<span class="string">'page'</span>];</span></span><br><span class="line"><span class="php">        $ba = ($nw - <span class="number">1</span>) * <span class="number">4</span>;</span></span><br><span class="line"><span class="php">        $re = select(<span class="string">"q3t7_movie"</span>, <span class="string">"'"</span> . $minday . <span class="string">"'&lt;=date and date&lt;='"</span> . $today . <span class="string">"' order by odr limit "</span> . $ba . <span class="string">",4"</span>);</span></span><br><span class="line"><span class="php">        <span class="keyword">foreach</span> ($re <span class="keyword">as</span> $ro) &#123;</span></span><br><span class="line"><span class="php">        <span class="meta">?&gt;</span></span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span> <span class="attr">width</span>=<span class="string">210</span> <span class="attr">style</span>=<span class="string">"float:left;padding:20px 0"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/&lt;?= $ro['img'] ?&gt;"</span> <span class="attr">style</span>=<span class="string">"float:left;width:50px;padding:10px"</span>&gt;</span></span><br><span class="line">            <span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'title'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            分級：<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/&lt;?= $ro['cls'] ?&gt;.png"</span> <span class="attr">style</span>=<span class="string">"height:1em"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            上映日期：<span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'date'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"clear:both;text-align:center"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"劇情簡介"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span>?<span class="attr">do</span>=<span class="string">info&amp;id</span>=<span class="string">" . $ro['id']) ?&gt;"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"線上訂票"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span><span class="attr">order.php</span>?<span class="attr">do</span>=<span class="string">step1&amp;id</span>=<span class="string">" . $ro['id']) ?&gt;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">        &#125;</span></span><br><span class="line"><span class="php">        <span class="meta">?&gt;</span></span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="規劃分頁導覽"><a href="#規劃分頁導覽" class="headerlink" title="規劃分頁導覽"></a>規劃分頁導覽</h2><p>使用函式庫設計的 navpage(table,sql,range,page) 回傳陣列，並轉為連接網址。找到</p>
<h3 id="修改-main-php-5"><a href="#修改-main-php-5" class="headerlink" title="修改 main.php"></a>修改 main.php</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;div class="ct"&gt; &lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>為</p>
<figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span></span><br><span class="line">  <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">  $pg = navpage(<span class="string">"q3t7_movie"</span>, <span class="string">"'"</span> . $minday . <span class="string">"'&lt;=date and date&lt;='"</span> . $today . <span class="string">"' order by odr"</span>, <span class="number">4</span>, $nw);</span></span><br><span class="line"><span class="php">  <span class="keyword">foreach</span> ($pg <span class="keyword">as</span> $key =&gt; $value) <span class="keyword">echo</span> <span class="string">'&lt;a href="?page='</span> . $value . <span class="string">'"&gt;'</span> . $key . <span class="string">'&lt;/a&gt;'</span>;</span></span><br><span class="line"><span class="php">  <span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="劇情簡介版面"><a href="#劇情簡介版面" class="headerlink" title="劇情簡介版面"></a>劇情簡介版面</h2><p>素材有提供劇情簡介版面，先前被放在 order.php 內而跟 order.php 內容無關，找到以下代碼存到 info.php 內 （被 div#mm 所包覆）</p>
<h3 id="新增-info-php（抽取自-order-php）"><a href="#新增-info-php（抽取自-order-php）" class="headerlink" title="新增 info.php（抽取自 order.php）"></a>新增 info.php（抽取自 order.php）</h3><figure class="highlight php"><figcaption><span>info.php</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;div style=<span class="string">"background:#FFF; width:100%; color:#333; text-align:left"</span>&gt;</span><br><span class="line">  &lt;video src=<span class="string">"movie/03B20v.avi"</span> width=<span class="string">"300px"</span> height=<span class="string">"250px"</span> controls=<span class="string">""</span> style=<span class="string">"float:right;"</span>&gt;&lt;/video&gt;</span><br><span class="line">  &lt;font style=<span class="string">"font-size:24px"</span>&gt; &lt;img src=<span class="string">"Profile page_files/03B20.png"</span> width=<span class="string">"200px"</span> height=<span class="string">"250px"</span> style=<span class="string">"margin:10px; float:left"</span>&gt;</span><br><span class="line">    &lt;p style=<span class="string">"margin:3px"</span>&gt;影片名稱 ：</span><br><span class="line">      &lt;input type="button" value="線上訂票" onclick="lof(&amp;#39;?do=order&amp;amp;id=4&amp;#39;)" style="margin-left:50px; padding:2px 4px" class="b2_btu"&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">    &lt;p style=<span class="string">"margin:3px"</span>&gt;影片分級 ： &lt;img src=<span class="string">"Profile page_files/03C04.png"</span> style=<span class="string">"display:inline-block;"</span>&gt;限制級 &lt;/p&gt;</span><br><span class="line">    &lt;p style=<span class="string">"margin:3px"</span>&gt;影片片長 ： 時/分&lt;/p&gt;</span><br><span class="line">    &lt;p style=<span class="string">"margin:3px"</span>&gt;上映日期 <span class="number">2014</span>/<span class="number">02</span>/<span class="number">14</span>&lt;/p&gt;</span><br><span class="line">    &lt;p style=<span class="string">"margin:3px"</span>&gt;發行商 ： &lt;/p&gt;</span><br><span class="line">    &lt;p style=<span class="string">"margin:3px"</span>&gt;導演 ： &lt;/p&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;p style=<span class="string">"margin:10px 3px 3px 3px; word-break:break-all"</span>&gt; 劇情簡介：&lt;br&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">  &lt;/font&gt;</span><br><span class="line">  &lt;table width=<span class="string">"100%"</span> border=<span class="string">"0"</span>&gt;</span><br><span class="line">    &lt;tbody&gt;</span><br><span class="line">      &lt;tr&gt;</span><br><span class="line">        &lt;td align=<span class="string">"center"</span>&gt;&lt;input type=<span class="string">"button"</span> value=<span class="string">"院線片清單"</span> onclick=<span class="string">"lof(&amp;#39;?&amp;#39;)"</span>&gt;&lt;/td&gt;</span><br><span class="line">      &lt;/tr&gt;</span><br><span class="line">    &lt;/tbody&gt;</span><br><span class="line">  &lt;/table&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>並加入 select，調整為正確的內容顯示。ID 為透過 GET 取得該資訊。按鈕導向到 order.php?do=step1&amp;id=xx．</p>
<figure class="highlight html"><figcaption><span>info.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$re = select(<span class="string">"q3t7_movie"</span>, <span class="string">"id="</span> . $_GET[<span class="string">'id'</span>]);</span></span><br><span class="line"><span class="php">$ro = $re[<span class="number">0</span>];</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"background:#FFF; width:100%; color:#333; text-align:left"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"img/03B20v.avi"</span> <span class="attr">width</span>=<span class="string">"300px"</span> <span class="attr">height</span>=<span class="string">"250px"</span> <span class="attr">controls</span>=<span class="string">""</span> <span class="attr">style</span>=<span class="string">"float:right;"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">font</span> <span class="attr">style</span>=<span class="string">"font-size:24px"</span>&gt;</span> <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/&lt;?= $ro['img'] ?&gt;"</span> <span class="attr">width</span>=<span class="string">"200px"</span> <span class="attr">height</span>=<span class="string">"250px"</span> <span class="attr">style</span>=<span class="string">"margin:10px; float:left"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin:3px"</span>&gt;</span>影片名稱 ：<span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'title'</span>] <span class="meta">?&gt;</span></span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"線上訂票"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span><span class="attr">order.php</span>?<span class="attr">do</span>=<span class="string">step1&amp;id</span>=<span class="string">" . $_GET['id']) ?&gt;"</span> <span class="attr">style</span>=<span class="string">"margin-left:50px; padding:2px 4px"</span> <span class="attr">class</span>=<span class="string">"b2_btu"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin:3px"</span>&gt;</span>影片分級 ： <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/&lt;?= $ro['cls'] ?&gt;.png"</span> <span class="attr">style</span>=<span class="string">"display:inline-block;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin:3px"</span>&gt;</span>影片片長 ： <span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'length'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin:3px"</span>&gt;</span>上映日期 ： <span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'date'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin:3px"</span>&gt;</span>發行商 ： <span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'corp'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin:3px"</span>&gt;</span>導演 ： <span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'maker'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"margin:10px 3px 3px 3px; word-break:break-all"</span>&gt;</span> 劇情簡介：<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'text'</span>] <span class="meta">?&gt;</span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">border</span>=<span class="string">"0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"院線片清單"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo('index.php') ?&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>導向到 Order 的畫面於第八題時設計，記住要設計會有 GET[id] 能提供給 order 做自動選取電影。第八題會有 step1,step2,step3 等不同的動作。</p>
<hr>
<h1 id="No-8-前台線上訂票-35"><a href="#No-8-前台線上訂票-35" class="headerlink" title="No.8 前台線上訂票 (35%)"></a>No.8 前台線上訂票 (35%)</h1><p>題目要求有三個步驟：選取電影場次、選取座位、結果顯示。因此你會需要設計 URL 轉址參數。</p>
<ol>
<li>電影場次的下拉選單透過 ajax api 進行查詢回傳。同時去搜索 table.seat 座位（陣列以字串儲存，取出時轉回陣列並計算列數）</li>
<li>選取座位有條件選擇，透過 JQ 去控制超過四筆不顯示。以及資料 select 時，有資料不提供 checkbox</li>
<li>結果顯示的流水號使用日期+索引組合即可，題目要求沒有很明確流水號的方式。</li>
</ol>
<p><img src="https://i.imgur.com/kJp2QZC.png" alt="q3t8A"><br><img src="https://i.imgur.com/dUZ9hVx.png" alt="q3t8B"></p>
<p>table.q3t8_book 的欄位只需要索引，電影 ID, 訂購日，場次，座位陣列 (string) 即可，訂購數可透過座位陣列算得。</p>
<h2 id="先設計好-URL-轉址參數"><a href="#先設計好-URL-轉址參數" class="headerlink" title="先設計好 URL 轉址參數"></a>先設計好 URL 轉址參數</h2><p>之前已被抽取過主內容給 info.php，這裡直接改主內容區部分，找到</p>
<h3 id="修改-order-php"><a href="#修改-order-php" class="headerlink" title="修改 order.php"></a>修改 order.php</h3><figure class="highlight html"><figcaption><span>order.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"mm"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tab rb"</span> <span class="attr">style</span>=<span class="string">"width:87%;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>改成</p>
<figure class="highlight html"><figcaption><span>order.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"mm"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tab rb"</span> <span class="attr">style</span>=<span class="string">"width:87%;"</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">include</span> $main . <span class="string">".php"</span>; <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>並在頁首 PHP 段落塞入參數</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$main = (<span class="keyword">empty</span>($_GET[<span class="string">'do'</span>])) ? <span class="string">"step1"</span> : $_GET[<span class="string">'do'</span>];</span><br></pre></td></tr></table></figure>

<h2 id="STEP1-訂票選單"><a href="#STEP1-訂票選單" class="headerlink" title="STEP1 訂票選單"></a>STEP1 訂票選單</h2><ol>
<li>依據題目初始有 <mark>已知 movie id</mark> 跟 <mark>沒有選擇</mark> 兩種來源。接著每次點選需對應相對的其次欄位內容。</li>
<li>這裡需要 JQ 搭配 AJAX 來完成下拉選單的內值。根據前一項 select 標籤的變化去做 ajax 出後一項的內容。</li>
<li>select 標籤的影響為 電影=&gt; 影響有效日期（在 api.php 處理），日期=&gt; 影響是否今日有效時段（在 JS 內提供一個參數是否為今日，在 php 內做顯示從幾筆開始輸出）</li>
<li>同時注意只能撈取顯示有效期限的電影。提交到 step2.php 建議採用 target=”_blank” 利於回到本頁面仍有舊選項之要求。</li>
</ol>
<h3 id="建立-step1-php"><a href="#建立-step1-php" class="headerlink" title="建立 step1.php"></a>建立 step1.php</h3><figure class="highlight html"><figcaption><span>step1.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"?do=step2"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span></span><br><span class="line">  電影：<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"mm"</span> <span class="attr">id</span>=<span class="string">"sm"</span> <span class="attr">onchange</span>=<span class="string">"gd()"</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">    $re = select(<span class="string">"q3t7_movie"</span>, <span class="string">"'"</span> . $minday . <span class="string">"'&lt;=date and date&lt;='"</span> . $today . <span class="string">"'"</span>);</span></span><br><span class="line"><span class="php">    <span class="keyword">foreach</span> ($re <span class="keyword">as</span> $ro) <span class="keyword">echo</span> <span class="string">'&lt;option value="'</span> . $ro[<span class="string">'title'</span>] . <span class="string">'" '</span> . ((!<span class="keyword">empty</span>($_GET[<span class="string">'id'</span>]) &amp;&amp; $_GET[<span class="string">'id'</span>] == $ro[<span class="string">'id'</span>]) ? <span class="string">"selected"</span> : <span class="string">""</span>) . <span class="string">'&gt;'</span> . $ro[<span class="string">'title'</span>] . <span class="string">'&lt;/option&gt;'</span>;</span></span><br><span class="line"><span class="php">    <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  日期：<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"dd"</span> <span class="attr">id</span>=<span class="string">"sd"</span> <span class="attr">onchange</span>=<span class="string">"gt()"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  場次：<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"tt"</span> <span class="attr">id</span>=<span class="string">"st"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"確定"</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span> <span class="attr">value</span>=<span class="string">"重置"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>JS 部分，透過 AJAX 提交到 api.php 處理回傳</p>
<ol>
<li>當選擇電影有變化時，自動呼叫 gd() 去算出有效日期的選項。</li>
<li>若一開始就有帶 MOVE ID 參數，也會自動去跑 getdate()</li>
<li>當選擇日期時，呼叫 getime() 算出時間場次。</li>
<li>執行 getimeg 時，當日期等於今天時，today 成立，否則為不。</li>
<li>最後都由 api.php 進行 SQL 分析與輸出處理。</li>
</ol>
<p>此時 JS 規劃為</p>
<figure class="highlight html"><figcaption><span>step1.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span>($(<span class="string">"#sm"</span>).length&gt;<span class="number">0</span>) gd();</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">gd</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    title=$(<span class="string">"#sm"</span>).val();</span></span><br><span class="line"><span class="javascript">    $.post(<span class="string">"api.php?do=gd"</span>,&#123;title&#125;,(re)=&gt;&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#sd"</span>).html(re);</span></span><br><span class="line">        gt();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">gt</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    title=$(<span class="string">"#sm"</span>).val();</span></span><br><span class="line"><span class="javascript">    date=$(<span class="string">"#sd"</span>).val();</span></span><br><span class="line"><span class="javascript">    $.post(<span class="string">"api.php?do=gt"</span>,&#123;title,date&#125;,(re)=&gt;&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#st"</span>).html(re);</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增添-api-php-4"><a href="#增添-api-php-4" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><p>AJAX 提交動作的處理</p>
<figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'gd'</span>:</span><br><span class="line">  $re = select(<span class="string">"q3t7_movie"</span>, <span class="string">"title='"</span> . $_POST[<span class="string">'title'</span>] . <span class="string">"'"</span>);</span><br><span class="line">  $ro = $re[<span class="number">0</span>];</span><br><span class="line">  $num = (strtotime($ro[<span class="string">'date'</span>]) - strtotime($minday)) / <span class="number">3600</span> / <span class="number">24</span>; <span class="comment">//該資料與最舊有效日相差幾天，可能值 0~2</span></span><br><span class="line">  <span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt;= $num; $i++)</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;option value="'</span> . date(<span class="string">"Y-m-d"</span>, strtotime(<span class="string">"+"</span> . $i . <span class="string">"days"</span>)) . <span class="string">'"&gt;'</span> . date(<span class="string">"Y-m-d"</span>, strtotime(<span class="string">"+"</span> . $i . <span class="string">"days"</span>)) . <span class="string">'&lt;/option&gt;'</span>;</span><br><span class="line">  <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'gt'</span>:</span><br><span class="line">  $re = select(<span class="string">"q3t8_book"</span>, <span class="string">"movie='"</span> . $_POST[<span class="string">'title'</span>] . <span class="string">"' and date='"</span> . $_POST[<span class="string">'date'</span>] . <span class="string">"'"</span>);</span><br><span class="line">  $ary = <span class="keyword">array</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">foreach</span> ($re <span class="keyword">as</span> $ro) $ary[$ro[<span class="string">'time'</span>]] += count(unserialize($ro[<span class="string">'seat'</span>])); <span class="comment">//收集各時段已售出之量</span></span><br><span class="line">  $now = (date(<span class="string">"H"</span>) &gt;= <span class="number">14</span> &amp;&amp; $today == $_POST[<span class="string">'date'</span>]) ? floor(date(<span class="string">"H"</span>) / <span class="number">2</span> - <span class="number">6</span>) : <span class="number">0</span>; <span class="comment">//如果今天且下午</span></span><br><span class="line">  <span class="comment">//只有當天的可選時段會變化，可能是從 0 開始跑或從現在時間（轉成時段）開始跑</span></span><br><span class="line">  <span class="comment">//if 現在是 pm3 -&gt; 15/2-6=1（無條件捨去） -&gt; se_time[1]=1600~1800</span></span><br><span class="line">  <span class="keyword">for</span> ($i = $now; $i &lt; <span class="number">5</span>; $i++) <span class="keyword">echo</span> <span class="string">'&lt;option value="'</span> . $i . <span class="string">'"&gt;'</span> . $seat[$i] . <span class="string">' 剩餘座位 '</span> . (<span class="number">20</span> - $ary[$i]) . <span class="string">'&lt;/option&gt;'</span>;</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h3 id="增添-lib-php-1"><a href="#增添-lib-php-1" class="headerlink" title="增添 lib.php"></a>增添 lib.php</h3><p>這裡加一段座位的代碼到公用 PHP 表內，後面會重複用到</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//t8</span></span><br><span class="line">$seat[<span class="number">0</span>]=<span class="string">"14:00~16:00"</span>;</span><br><span class="line">$seat[<span class="number">1</span>]=<span class="string">"16:00~18:00"</span>;</span><br><span class="line">$seat[<span class="number">2</span>]=<span class="string">"18:00~20:00"</span>;</span><br><span class="line">$seat[<span class="number">3</span>]=<span class="string">"20:00~22:00"</span>;</span><br><span class="line">$seat[<span class="number">4</span>]=<span class="string">"22:00~24:00"</span>;</span><br></pre></td></tr></table></figure>

<h2 id="STEP2-選位功能"><a href="#STEP2-選位功能" class="headerlink" title="STEP2 選位功能"></a>STEP2 選位功能</h2><ol>
<li>取得 step1.php 得來的資料進行版面規劃，並還要再包一次到 input:hidden。才能在 step3.php 真正做總資料處理。</li>
<li>算位置時利用迴圈去跑，同時每五筆斷行。同時負責 seat 的資料為字串化陣列，需轉回陣列格式 (unserialize)</li>
<li>訂單多筆有多筆不一樣的陣列。需要一個新陣列每次加入合併這些 foreachf 取的單陣列。</li>
<li>JS 部分要記錄點選 checkbox 數量並阻止超過選擇數</li>
<li>最後送出到 api.php，進行 order 作業</li>
</ol>
<h3 id="建立-step2-php"><a href="#建立-step2-php" class="headerlink" title="建立 step2.php"></a>建立 step2.php</h3><figure class="highlight html"><figcaption><span>step2.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"api.php?do=order"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">  <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">  $re = select(<span class="string">"q3t8_book"</span>, <span class="string">"movie='"</span> . $_POST[<span class="string">'mm'</span>] . <span class="string">"' and date='"</span> . $_POST[<span class="string">'dd'</span>] . <span class="string">"' and time="</span> . $_POST[<span class="string">'tt'</span>]);</span></span><br><span class="line"><span class="php">  $set = <span class="keyword">array</span>();</span></span><br><span class="line"><span class="php">  <span class="keyword">foreach</span> ($re <span class="keyword">as</span> $row) $set = array_merge($set, unserialize($row[<span class="string">'seat'</span>])); <span class="comment">//將所有該時段的多筆座位陣列都倒入到一個新陣列</span></span></span><br><span class="line"></span><br><span class="line"><span class="php">  <span class="keyword">for</span> ($i = <span class="number">1</span>; $i &lt; <span class="number">21</span>; $i++) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">if</span> (in_array($i, $set)) <span class="keyword">echo</span> <span class="string">'&lt;img src="img/03D03.png" style="padding-right:30px"&gt;'</span>;</span></span><br><span class="line">    else echo '</span><br><span class="line">    &lt;img src="img/03D02.png" alt=""&gt;</span><br><span class="line">    &lt;input class="seat" type="checkbox" name="ss[]" value="' . $i . '"&gt;</span><br><span class="line"><span class="php">  <span class="string">';</span></span></span><br><span class="line"><span class="php">    <span class="keyword">if</span> ($i % <span class="number">5</span> == <span class="number">0</span>) <span class="keyword">echo</span> <span class="string">'&lt;br&gt;'</span>;</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">  <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"movie"</span> <span class="attr">value</span>=<span class="string">"&lt;?= $_POST['mm'] ?&gt;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"date"</span> <span class="attr">value</span>=<span class="string">"&lt;?= $_POST['dd'] ?&gt;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"time"</span> <span class="attr">value</span>=<span class="string">"&lt;?= $_POST['tt'] ?&gt;"</span>&gt;</span></span><br><span class="line">  您選擇的電影是：<span class="php"><span class="meta">&lt;?</span>= $_POST[<span class="string">'mm'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  您選擇的時刻是：<span class="php"><span class="meta">&lt;?</span>= $_POST[<span class="string">'dd'</span>] <span class="meta">?&gt;</span></span> <span class="php"><span class="meta">&lt;?</span>= $seat[$_POST[<span class="string">'tt'</span>]] <span class="meta">?&gt;</span></span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  您勾選了<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">nn</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span>張票，最多可購買 4 張票<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"上一步"</span> <span class="attr">onclick</span>=<span class="string">"window.close()"</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"確定"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>JS 部分，從 0 開始數，每一次被 check 打勾時，如果還沒超過 4 就繼續數，否則把打勾取消。反之被取消打勾就記數少一</p>
<figure class="highlight javascript"><figcaption><span>step2.php</span></figcaption><table><tr><td class="code"><pre><span class="line">num = <span class="number">0</span>;</span><br><span class="line">$(<span class="string">".seat"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.checked)</span><br><span class="line">    (num &lt; <span class="number">4</span>) ? num++ : <span class="keyword">this</span>.checked = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">else</span> num--;</span><br><span class="line">  $(<span class="string">"#nn"</span>).text(num);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="增添-api-php-5"><a href="#增添-api-php-5" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><p>進行資料上傳，並先將 seat 陣列給字串化。這樣一筆訂單就是一筆 DATA，方便訂單管理。</p>
<figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'order'</span>:</span><br><span class="line">  $_POST[<span class="string">'seat'</span>] = serialize($_POST[<span class="string">'ss'</span>]);</span><br><span class="line">  $_POST[<span class="string">'buydate'</span>] = date(<span class="string">"Y-m-d"</span>);</span><br><span class="line">  <span class="keyword">unset</span>($_POST[<span class="string">'ss'</span>]);</span><br><span class="line">  $id = insert($_POST, <span class="string">"q3t8_book"</span>);</span><br><span class="line">  plo(<span class="string">"order.php?do=step3&amp;id="</span> . $id);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="STEP3-檢視訂票結果"><a href="#STEP3-檢視訂票結果" class="headerlink" title="STEP3 檢視訂票結果"></a>STEP3 檢視訂票結果</h2><p>很簡單的做撈取動作，訂單編號部分利用日期與 ID 合併即可，不需要特地在設計該 SQL 欄位。</p>
<h3 id="建立-step3-php"><a href="#建立-step3-php" class="headerlink" title="建立 step3.php"></a>建立 step3.php</h3><figure class="highlight html"><figcaption><span>step3.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$re = select(<span class="string">"q3t8_book"</span>, <span class="string">"id="</span> . $_GET[<span class="string">'id'</span>]);</span></span><br><span class="line"><span class="php">$ro = $re[<span class="number">0</span>];</span></span><br><span class="line"><span class="php">$seq = date(<span class="string">"Ymd0000"</span>, strtotime($ro[<span class="string">'buydate'</span>])) + $ro[<span class="string">'id'</span>];</span></span><br><span class="line"><span class="php">$ss = unserialize($ro[<span class="string">'seat'</span>]);</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"></span><br><span class="line">訂單資訊：<span class="php"><span class="meta">&lt;?</span>= $seq <span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">您選擇的電影是：<span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'movie'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">您選擇的時刻是：<span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'date'</span>] <span class="meta">?&gt;</span></span> <span class="php"><span class="meta">&lt;?</span>= $seat[$ro[<span class="string">'time'</span>]] <span class="meta">?&gt;</span></span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">您勾選的座位是：<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">foreach</span> ($ss <span class="keyword">as</span> $value) <span class="keyword">echo</span> $value . <span class="string">'號&lt;br&gt;'</span>;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="No-9-後台電影票訂單管理-25"><a href="#No-9-後台電影票訂單管理-25" class="headerlink" title="No.9 後台電影票訂單管理 (25%)"></a>No.9 後台電影票訂單管理 (25%)</h1><p>先試著在前台新增多筆訂單，接著在進行後台設計。主要重點在於刪除功能，分為單筆刪除與批次刪除。難度不高，只需記得單筆刪除直接使用 onclick 帶 GET 網址到 api 處理即可。至於批次刪除利用 form 表單搭配 input typey 到 api 處理。處理批次只需對 where 描述正確即可。</p>
<p><img src="https://i.imgur.com/QbAWeYX.png" alt="q3t9"></p>
<h2 id="清單檢視版型"><a href="#清單檢視版型" class="headerlink" title="清單檢視版型"></a>清單檢視版型</h2><p>這題不適合參考任何前面的版型，重新畫一個 table 會比較快。</p>
<h3 id="建立-orderlist-php"><a href="#建立-orderlist-php" class="headerlink" title="建立 orderlist.php"></a>建立 orderlist.php</h3><figure class="highlight html"><figcaption><span>orderlist.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"100%"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>訂單編號<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>電影名稱<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>觀看日期<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>場次時間<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>訂購數量<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>訂購位置<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">  $re = select(<span class="string">"q3t8_book"</span>, <span class="string">"1 order by id desc"</span>);</span></span><br><span class="line"><span class="php">  <span class="keyword">foreach</span> ($re <span class="keyword">as</span> $ro) &#123;</span></span><br><span class="line"><span class="php">    $seq = date(<span class="string">"Ymd0000"</span>, strtotime($ro[<span class="string">'buydate'</span>])) + $ro[<span class="string">'id'</span>];</span></span><br><span class="line"><span class="php">    $ss = unserialize($ro[<span class="string">'seat'</span>]);</span></span><br><span class="line"><span class="php">    <span class="meta">?&gt;</span></span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="php"><span class="meta">&lt;?</span>= $seq <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'movie'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="php"><span class="meta">&lt;?</span>= $ro[<span class="string">'date'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="php"><span class="meta">&lt;?</span>= $seat[$ro[<span class="string">'time'</span>]] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="php"><span class="meta">&lt;?</span>= count($ss) <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="php"><span class="meta">&lt;?php</span> <span class="keyword">foreach</span> ($ss <span class="keyword">as</span> $value) <span class="keyword">echo</span> $value . <span class="string">'號&lt;br&gt;'</span>; <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"刪除"</span> <span class="attr">onclick</span>=<span class="string">"&lt;?= jlo("</span><span class="attr">api.php</span>?<span class="attr">do</span>=<span class="string">orderdel&amp;id</span>=<span class="string">" . $ro['id']) ?&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">  <span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="單獨刪除功能"><a href="#單獨刪除功能" class="headerlink" title="單獨刪除功能"></a>單獨刪除功能</h2><p>取得訂單 ID 針對該訂單刪除</p>
<h3 id="增添-api-php-6"><a href="#增添-api-php-6" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'orderdel'</span>:</span><br><span class="line">  $_POST[<span class="string">'del'</span>][] = $_GET[<span class="string">'id'</span>];</span><br><span class="line">  delete($_POST, <span class="string">"q3t8_book"</span>);</span><br><span class="line">  plo(<span class="string">"admin.php?do=orderlist"</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<h2 id="快速刪除之版型"><a href="#快速刪除之版型" class="headerlink" title="快速刪除之版型"></a>快速刪除之版型</h2><p>題目要求需要快速刪除前有提示，所以 from 多個 onsubmit 的 JS 動作。radio 咬個 required 比較不會被亂搞。</p>
<h3 id="修改-orderlist-php"><a href="#修改-orderlist-php" class="headerlink" title="修改 orderlist.php"></a>修改 orderlist.php</h3><figure class="highlight html"><figcaption><span>orderlist</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">"ct"</span>&gt;</span>訂單清單<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"api.php?do=orderfast"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">onsubmit</span>=<span class="string">"return confirm('幹你確定嗎？')"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sw"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">required</span>&gt;</span>依日期 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span> <span class="attr">name</span>=<span class="string">"date"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sw"</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span>電影名稱</span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"movie"</span>&gt;</span></span><br><span class="line">    <span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">    $re = select(<span class="string">"q3t7_movie"</span>, <span class="number">1</span>);</span></span><br><span class="line"><span class="php">    <span class="keyword">foreach</span> ($re <span class="keyword">as</span> $ro) <span class="keyword">echo</span> <span class="string">'&lt;option value="'</span> . $ro[<span class="string">'title'</span>] . <span class="string">'"&gt;'</span> . $ro[<span class="string">'title'</span>] . <span class="string">'&lt;/option&gt;'</span>;</span></span><br><span class="line"><span class="php">    <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"快速刪除"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="增添-api-php-7"><a href="#增添-api-php-7" class="headerlink" title="增添 api.php"></a>增添 api.php</h3><p>判斷何種刪除法，做對應刪除之條件</p>
<figure class="highlight php"><figcaption><span>api.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">'orderfast'</span>:</span><br><span class="line">  <span class="keyword">switch</span> ($_POST[<span class="string">"sw"</span>]) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">      $post[<span class="string">'delat'</span>] = <span class="string">"date='"</span> . $_POST[<span class="string">'date'</span>] . <span class="string">"'"</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      $post[<span class="string">'delat'</span>] = <span class="string">"movie='"</span> . $_POST[<span class="string">'movie'</span>] . <span class="string">"'"</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  delete($post, <span class="string">"q3t8_book"</span>);</span><br><span class="line">  plo(<span class="string">"admin.php?do=orderlist"</span>);</span><br><span class="line">  <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="END-調整版面-5"><a href="#END-調整版面-5" class="headerlink" title="END 調整版面 (5%)"></a>END 調整版面 (5%)</h1><p>這題動作如果來不及做可以放棄，元素材差異性下有可能不會被考官所注意到。</p>
<p><img src="https://i.imgur.com/Ji8jU7J.png" alt="q3layout"></p>
<h2 id="修改-index-php-amp-admin-php-amp-order-php"><a href="#修改-index-php-amp-admin-php-amp-order-php" class="headerlink" title="修改 index.php &amp; admin.php &amp; order.php"></a>修改 index.php &amp; admin.php &amp; order.php</h2><p>找到主區域的 div 修改為</p>
<figure class="highlight html"><figcaption><span>index.php & admin.php & order.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"overflow-y: scroll;width: 1024px;height: 768px;margin: 10px auto;border: 0;"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="修改-main-php-6"><a href="#修改-main-php-6" class="headerlink" title="修改 main.php"></a>修改 main.php</h2><p>院線片清單版型有被擠壓到跑版，對 main.php 的這部分調整一下到 100%</p>
<figure class="highlight html"><figcaption><span>main.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rb tab"</span> <span class="attr">style</span>=<span class="string">"width:100%;"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="修改-admin-php-2"><a href="#修改-admin-php-2" class="headerlink" title="修改 admin.php"></a>修改 admin.php</h2><p>雖然題目未提及，如果有空則消除無效的連結</p>
<figure class="highlight html"><figcaption><span>admin.php</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ct a rb"</span> <span class="attr">style</span>=<span class="string">"position:relative; width:101.5%; left:-1%; padding:3px; top:-9px;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>網站標題管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>動態文字管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=rr"</span>&gt;</span>預告片海報管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=vv"</span>&gt;</span>院線片管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span> |</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"?do=orderlist"</span>&gt;</span>電影訂票管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>透過 Chrome 遊覽器檢查可以得到 1024*768 且上下左右 10px 並垂直至中的動作要求。</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%8A%80%E8%A1%93%E5%A3%AB%E8%80%83%E7%85%A7%E8%88%87%E5%85%A8%E5%9C%8B%E6%8A%80%E8%83%BD%E7%AB%B6%E8%B3%BD/" rel="tag"># 技術士考照與全國技能競賽</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/05-21/exam-173002B10-2/" rel="prev" title="[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組二）">
      <i class="fa fa-chevron-left"></i> [題目解析] 技能檢定！網頁設計乙級術科考題分析（題組二）
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/05-25/exam-173002B10-4/" rel="next" title="[題目解析] 技能檢定！網頁設計乙級術科考題分析（題組四）">
      [題目解析] 技能檢定！網頁設計乙級術科考題分析（題組四） <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          關於本站
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#No-3-主選單-15"><span class="nav-number">1.</span> <span class="nav-text">No.3 主選單 (15%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#主選單的有效連結"><span class="nav-number">1.1.</span> <span class="nav-text">主選單的有效連結</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-index-php-amp-order-php-amp-admin-php"><span class="nav-number">1.1.1.</span> <span class="nav-text">修改 index.php &amp; order.php &amp; admin.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#前台首頁的內容切換"><span class="nav-number">1.2.</span> <span class="nav-text">前台首頁的內容切換</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-index-php"><span class="nav-number">1.2.1.</span> <span class="nav-text">修改 index.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#後台選單的超連結簡化"><span class="nav-number">1.3.</span> <span class="nav-text">後台選單的超連結簡化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-admin-php"><span class="nav-number">1.3.1.</span> <span class="nav-text">修改 admin.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#後台選單的內容切換"><span class="nav-number">1.4.</span> <span class="nav-text">後台選單的內容切換</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-admin-php-1"><span class="nav-number">1.4.1.</span> <span class="nav-text">修改 admin.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#判斷是否登入"><span class="nav-number">1.5.</span> <span class="nav-text">判斷是否登入</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-admin-php"><span class="nav-number">1.5.1.</span> <span class="nav-text">增添 admin.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#建立-login-php"><span class="nav-number">1.5.2.</span> <span class="nav-text">建立 login.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#建立-api-php"><span class="nav-number">1.5.3.</span> <span class="nav-text">建立 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-5-後台之預告片海報管理-25"><span class="nav-number">2.</span> <span class="nav-text">No.5 後台之預告片海報管理 (25%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#規劃版型"><span class="nav-number">2.1.</span> <span class="nav-text">規劃版型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立-rr-php"><span class="nav-number">2.1.1.</span> <span class="nav-text">建立 rr.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#規劃新增功能"><span class="nav-number">2.2.</span> <span class="nav-text">規劃新增功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-rr-php"><span class="nav-number">2.2.1.</span> <span class="nav-text">增添 rr.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-api-php"><span class="nav-number">2.2.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#做修改刪除"><span class="nav-number">2.3.</span> <span class="nav-text">做修改刪除</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-api-php-1"><span class="nav-number">2.3.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#轉場特效選項"><span class="nav-number">2.4.</span> <span class="nav-text">轉場特效選項</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-rr-php-1"><span class="nav-number">2.4.1.</span> <span class="nav-text">增添 rr.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-api-php"><span class="nav-number">2.4.2.</span> <span class="nav-text">修改 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-4-前台之預告片海報導覽-30"><span class="nav-number">3.</span> <span class="nav-text">No.4 前台之預告片海報導覽 (30%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#按鈕列設計"><span class="nav-number">3.1.</span> <span class="nav-text">按鈕列設計</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-main-php"><span class="nav-number">3.1.1.</span> <span class="nav-text">修改 main.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#海報展示區"><span class="nav-number">3.2.</span> <span class="nav-text">海報展示區</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-main-php-1"><span class="nav-number">3.2.1.</span> <span class="nav-text">修改 main.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#點選播放"><span class="nav-number">3.3.</span> <span class="nav-text">點選播放</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-main-php-2"><span class="nav-number">3.3.1.</span> <span class="nav-text">修改 main.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自動播放"><span class="nav-number">3.4.</span> <span class="nav-text">自動播放</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-main-php-3"><span class="nav-number">3.4.1.</span> <span class="nav-text">修改 main.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-7-後台院線片清單管理-25"><span class="nav-number">4.</span> <span class="nav-text">No.7 後台院線片清單管理 (25%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#顯示-修改-排序-刪除的版型"><span class="nav-number">4.1.</span> <span class="nav-text">顯示+修改+排序+刪除的版型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立-vv-php（參考-rr-php"><span class="nav-number">4.1.1.</span> <span class="nav-text">建立 vv.php（參考 rr.php)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改排序與單一刪除處理"><span class="nav-number">4.2.</span> <span class="nav-text">修改排序與單一刪除處理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增建-api-php"><span class="nav-number">4.2.1.</span> <span class="nav-text">增建 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#新增單筆電影"><span class="nav-number">4.3.</span> <span class="nav-text">新增單筆電影</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立-vvadd-php"><span class="nav-number">4.3.1.</span> <span class="nav-text">建立 vvadd.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-api-php-2"><span class="nav-number">4.3.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改單筆電影"><span class="nav-number">4.4.</span> <span class="nav-text">修改單筆電影</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#新增-vvchg-php（參考-vvadd-php"><span class="nav-number">4.4.1.</span> <span class="nav-text">新增 vvchg.php（參考 vvadd.php)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-api-php-3"><span class="nav-number">4.4.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-6-院線片清單-40"><span class="nav-number">5.</span> <span class="nav-text">No.6 院線片清單 (40%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#設計院線片顯示區域"><span class="nav-number">5.1.</span> <span class="nav-text">設計院線片顯示區域</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-lib-php"><span class="nav-number">5.1.1.</span> <span class="nav-text">增添 lib.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-main-php-4"><span class="nav-number">5.1.2.</span> <span class="nav-text">修改 main.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#規劃分頁導覽"><span class="nav-number">5.2.</span> <span class="nav-text">規劃分頁導覽</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-main-php-5"><span class="nav-number">5.2.1.</span> <span class="nav-text">修改 main.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#劇情簡介版面"><span class="nav-number">5.3.</span> <span class="nav-text">劇情簡介版面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#新增-info-php（抽取自-order-php）"><span class="nav-number">5.3.1.</span> <span class="nav-text">新增 info.php（抽取自 order.php）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-8-前台線上訂票-35"><span class="nav-number">6.</span> <span class="nav-text">No.8 前台線上訂票 (35%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#先設計好-URL-轉址參數"><span class="nav-number">6.1.</span> <span class="nav-text">先設計好 URL 轉址參數</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-order-php"><span class="nav-number">6.1.1.</span> <span class="nav-text">修改 order.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#STEP1-訂票選單"><span class="nav-number">6.2.</span> <span class="nav-text">STEP1 訂票選單</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立-step1-php"><span class="nav-number">6.2.1.</span> <span class="nav-text">建立 step1.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-api-php-4"><span class="nav-number">6.2.2.</span> <span class="nav-text">增添 api.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-lib-php-1"><span class="nav-number">6.2.3.</span> <span class="nav-text">增添 lib.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#STEP2-選位功能"><span class="nav-number">6.3.</span> <span class="nav-text">STEP2 選位功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立-step2-php"><span class="nav-number">6.3.1.</span> <span class="nav-text">建立 step2.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-api-php-5"><span class="nav-number">6.3.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#STEP3-檢視訂票結果"><span class="nav-number">6.4.</span> <span class="nav-text">STEP3 檢視訂票結果</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立-step3-php"><span class="nav-number">6.4.1.</span> <span class="nav-text">建立 step3.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#No-9-後台電影票訂單管理-25"><span class="nav-number">7.</span> <span class="nav-text">No.9 後台電影票訂單管理 (25%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#清單檢視版型"><span class="nav-number">7.1.</span> <span class="nav-text">清單檢視版型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立-orderlist-php"><span class="nav-number">7.1.1.</span> <span class="nav-text">建立 orderlist.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#單獨刪除功能"><span class="nav-number">7.2.</span> <span class="nav-text">單獨刪除功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-api-php-6"><span class="nav-number">7.2.1.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#快速刪除之版型"><span class="nav-number">7.3.</span> <span class="nav-text">快速刪除之版型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-orderlist-php"><span class="nav-number">7.3.1.</span> <span class="nav-text">修改 orderlist.php</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增添-api-php-7"><span class="nav-number">7.3.2.</span> <span class="nav-text">增添 api.php</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#END-調整版面-5"><span class="nav-number">8.</span> <span class="nav-text">END 調整版面 (5%)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#修改-index-php-amp-admin-php-amp-order-php"><span class="nav-number">8.1.</span> <span class="nav-text">修改 index.php &amp; admin.php &amp; order.php</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改-main-php-6"><span class="nav-number">8.2.</span> <span class="nav-text">修改 main.php</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改-admin-php-2"><span class="nav-number">8.3.</span> <span class="nav-text">修改 admin.php</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Loki Jiang"
      src="/images/loki_img.jpg">
  <p class="site-author-name" itemprop="name">Loki Jiang</p>
  <div class="site-description" itemprop="description">Time waits for no oneヽ(｀Д´)ﾉ</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">40</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/summer10920" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;summer10920" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:summer10920@gmail.com" title="E-Mail → mailto:summer10920@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://codepen.io/summer10920/pens/public" title="CodePen → https:&#x2F;&#x2F;codepen.io&#x2F;summer10920&#x2F;pens&#x2F;public" rel="noopener" target="_blank"><i class="fa fa-fw fa-codepen"></i>CodePen</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Loki Jiang</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

</body>
</html>
